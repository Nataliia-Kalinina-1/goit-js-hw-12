import{S as q,a as m,i as s}from"./assets/vendor-DcJ-KoJm.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const p=document.querySelector(".gallery"),h=document.querySelector(".load-more"),y=document.querySelector(".loader"),v=new q(".gallery a",{captionsData:"alt",captionDelay:250});function g(r){const e=r.map(n=>`
   <li class="gallery-item">
      <a href="${n.largeImageURL}">
        <img src="${n.webformatURL}" alt="${n.tags}" />
      </a>
   </li>`).join("");p.insertAdjacentHTML("beforeend",e),v.refresh()}function M(){p.innerHTML=""}function L(){y.classList.remove("is-hidden")}function d(){y.classList.add("is-hidden")}function w(){h.classList.remove("is-hidden")}function u(){h.classList.add("is-hidden")}m.defaults.baseURL="https://pixabay.com/api/";const B="53387402-0d41fff9de6c167d2f24d7858";async function S(r,e){const n={key:B,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:e},{data:i}=await m.get("/",{params:n});return i}const C=document.querySelector(".form"),O=document.querySelector("input[name='search-text']"),P=document.querySelector(".load-more");let c="",a=1;const b=15;let f=0;C.addEventListener("submit",x);P.addEventListener("click",E);async function x(r){if(r.preventDefault(),c=O.value.trim(),a=1,!c){s.warning({message:"Please enter a search query!",position:"topCenter"});return}M(),u(),L();try{const e=await S(c,a);if(f=e.totalHits,d(),e.hits.length===0){s.error({message:"No images found. Try another query!",position:"topCenter"});return}g(e.hits),a*b<f&&w()}catch(e){console.error(e),s.error({message:"Something went wrong, please try again later.",position:"topCenter"})}}async function E(){a+=1,L(),u();try{const r=await S(c,a);if(g(r.hits),d(),a*b>=f){s.info({message:"We're sorry, but you've reached the end of search results.",position:"topCenter"}),u();return}w(),H()}catch(r){d(),console.error(r),s.error({message:"Something went wrong",position:"topCenter"})}}function H(){const e=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
